Ext.define("Site.page.Docs",{singleton:true,config:{currentTocItem:null},constructor:function(){var a=this;a.toc=new Ext.util.Collection();Ext.onReady(a.onDocReady,a)},updateCurrentTocItem:function(a,b){if(b){b.linkEl.removeCls("current")}if(a){a.linkEl.addCls("current")}},onDocReady:function(){var b=this,d=b.toc,a=b.tocTops=[],c;b.tocEl=c=Ext.getBody().down(".docs-toc");c.select('a[href^="#"]').each(function(g){var e=g.dom.hash.substr(1),h=Ext.get(e),f=h&&h.getTop();if(!h){return}d.add({id:e,linkEl:Ext.get(g),targetEl:h,targetTop:f});a.push(f)});b.syncTocFromScroll();Ext.get(document).on("scroll","onDocumentScroll",b)},onDocumentScroll:function(b,a){this.syncTocFromScroll()},getTocFromY:function(f){var d=this,b=d.tocTops,a=1,e=b.length,c;for(;a<e;a++){c=b[a];if(f<c-25){return d.toc.getAt(a-1)}}return null},syncTocFromScroll:function(){var a=this,b=a.getTocFromY(Ext.getBody().getScroll().top);a.setCurrentTocItem(b)}});