// configure compass color contrast helpers
$contrasted-lightness-threshold: 50%;

// default button colors
$button-color:      darken($page-bg-color, 10) !default;
$destructive-color: #900 !default;
$submit-color:      $link-color !default;

// mixin to add button background, border, color, shadow, hover styles, etc to an element
@mixin button-colors($color) {
	@include contrasted($color);
	border: 1px solid contrast-color($color, darken($color, 20), darken($color, 15));
	@include box-shadow(
		inset 0 1px 0 lighten($color, 15),
		0 1px 0 contrast-color($color, rgba(black, .1), rgba(black, .2))
	);
	
	text-shadow: 0 1px 0 invert(contrast-color($color));
	
	&:hover,
	&:focus {
		background: lighten($color, 7);
	}
	
	&:active {
		background-color: darken($color, 10);
		border-color: darken($color, 25);
		@include box-shadow(
			inset 0 1px 0 $color,
			0 1px 0 contrast-color($color, rgba(black, .1), rgba(black, .2))
		);
		@include transition(none);
	}
}

// set up base class for all buttons
.button {
	@include button-colors($button-color);
	@include border-radius(2px);
    display: inline-block;
	font-weight: 300;
	line-height: $line-height;
	margin-bottom: .25em;
	padding: .25em .75em;
	text-align: center;
	@include transition(75ms ease-in-out);
	white-space: nowrap;
	
	&.destructive { @include button-colors(#900); }

	&.primary,
	&.submit,
	&[type="submit"] { @include button-colors($link-color); }

    &.block { display: block; }
    &.small { font-size: small; }
    &.tiny  {
        font-size: small;
        letter-spacing: .5px;
        padding: 0 .25em;
        vertical-align: middle;
        width: auto;
    }

	@media #{$mq-phone} {
		& + & {
			margin-top: 1em;
		}
	}
}

// extend the class to elements that are buttons
button,
a.button, // sometimes links need a little extra specificity
// input[type="reset"],  // uncomment if you actually use one of these. otherwise, leave them out to reduce selector complexity
// input[type="button"], // (these will get repeated for every custom button style)
input[type="submit"] {
	@extend .button;
	text-decoration: none;
}